function only_drop(t){var e=$(t.target).closest(".dropup,.dropdown");$(".dropup.open,.dropdown.open").not(e).removeClass("open")}function SetCookie(t,e,a){var i="";if(a){var n=new Date;n.setTime(n.getTime()+864e5*a),i="; expires="+n.toUTCString()}document.cookie=t+"="+(e||"")+i+"; path=/"}function GetCookie(t){for(var e=t+"=",a=document.cookie.split(";"),i=0;i<a.length;i++){for(var n=a[i];" "==n.charAt(0);)n=n.substring(1,n.length);if(0==n.indexOf(e))return n.substring(e.length,n.length)}return null}function applyTheme(){"dark-theme"===GetCookie("theme_mode")?($("body").addClass("dark-theme"),$(".enlighter-default").addClass("enlighter-t-"+_thanhdieu.highlight_dark_zt).removeClass("enlighter-t-"+_thanhdieu.highlight_white_zt)):($("body").removeClass("dark-theme"),$(".enlighter-default").addClass("enlighter-t-"+_thanhdieu.highlight_white_zt).removeClass("enlighter-t-"+_thanhdieu.highlight_dark_zt))}function countdown(t){function e(t){var e=(new Date).getTime(),a=new Date(t).getTime()-e,i=a/1e3%60;i=(i=i.toFixed(2))<10?"0"+i:i;var n=~~(a%1e3),r=~~(a/1e3/60%60),o=~~(a/36e5%24),s=~~(a/864e5);return{total:a,days:s,hours:o,minutes:r,seconds:i,mseconds:n}}function a(){var a=e(i),r=a.days+"1 Day"+a.hours+"Hour"+a.minutes+"Minute"+a.seconds+"Second";if(t.html(r),a.total<=0){clearInterval(n);var o=t.attr("data-over-text")||"Over";t.html(o)}}var i=t.attr("data-countdown");a();var n=setInterval(a,20)}function new_dplayer(){var t=".new-dplayer:not(.dplayer-initialized),[data-dplayer]:not(.dplayer-initialized)";$(t).length&&$(t).each(function(){var t=$(this);get_new_dplayer(t,function(e){t.addClass("dplayer-initialized").siblings(".dplayer-featured").find(".switch-video").attr("dplayer-id",e.container.id)})})}function get_new_dplayer(t,e){var a={},i=t.attr("video-url")||t.data("video-url"),n=t.attr("data-volume"),r=parseInt((Math.random()+1)*1e4);if(!t.find(".dplayer-video-wrap").length&&i){t.attr("id","dplayer-"+r),a.container=document.getElementById("dplayer-"+r),a.theme="#f04494",a.video={url:i,pic:t.attr("video-pic")||"",type:t.attr("video-type")||"auto"},t.attr("data-loop")&&(a.loop=!0),t.attr("data-autoplay")&&(a.autoplay=!0),n&&n<1&&(a.volume=n),"none"===n&&(a.volume=0);var o=t.attr("video-option");if(o){try{o=JSON.parse(o)}catch(s){console.log(s)}$.extend(a,o)}var l=i.toLowerCase();return -1!=l.indexOf(".m3u")&&_thanhdieu.dplayer.tbquire.push("hls"),-1!=l.indexOf(".mpd")&&_thanhdieu.dplayer.tbquire.push("dash"),-1!=l.indexOf(".flv")&&_thanhdieu.dplayer.tbquire.push("flv"),$("link#dplayer").length||$("dplayer").append('<link type="text/css" id="dplayer" rel="stylesheet" href="'+_thanhdieu.uri+"/css/dplayer.min.css?ver="+_thanhdieu.ver+'">'),_thanhdieu.dplayer.tbquire.push("dplayer"),tbquire(_thanhdieu.dplayer.tbquire,function(){try{var i=new DPlayer(a);i.on("play",function(){_thanhdieu.dplayer.play=i}),t.data("dplayer",i),_thanhdieu.dplayer.obj[r]=i,t.attr({"video-url":"","video-pic":""}),$.isFunction(e)&&e(i)}catch(n){console.log(n)}}),r}}function thumb_dplayer(t,e){function a(t,e,a){e.find(".dplayer-thumb").removeClass(c),_thanhdieu.dplayer.thumb_play=a,e.find(".progress").show(),t.addClass(d)}function i(t,e,a){a.pause(),e.find(".dplayer-thumb").addClass(c),_thanhdieu.dplayer.thumb_play=!1,e.find(".progress").hide(),t.removeClass(d)}function n(){if(_thanhdieu.dplayer.thumb_play){var a=$($(_thanhdieu.dplayer.thumb_play.container).parents(e)[0]),n=$(a.parents(t)[0]);i(n,a,_thanhdieu.dplayer.thumb_play)}}function r(){function t(t){t.on("loadeddata",function(){setTimeout(()=>{n.find(".progress-bar").css({width:"100%",opacity:"0",transition:"width .2s, opacity .3s .3s"})},100),setTimeout(()=>{n.find(".progress").remove()},800)}),setTimeout(()=>{a(i,n,t),t.play()},200)}var i=$(this),n=i.find(e);if(n.length){var r=n.find(".dplayer-thumb").data("dplayer");if(r)return a(i,n,r),r.play();if(!n.find(".dplayer-thumb").length){var o=n.attr("video-url"),s=n.attr("data-volume")||"none",l="",d=~~n.attr("scale-height"),c='<div class="progress progress-striped active progress-abs-bottom"><div class="progress-bar progress-bar-success"></div></div>',h=$('<div class="dplayer-thumb-hide new-dplayer dplayer-thumb controller-hide'+(d?" dplayer-scale-height":"")+'"'+(d?' style="--scale-height:'+d+'%;"':"")+' data-loop="true" data-volume="'+s+'" data-hide="true" video-url="'+o+'" video-pic="'+l+'" video-type="auto"></div>');n.find(".video-thumb").html(h).after(c),setTimeout(()=>{n.find(".progress-bar").css({transition:"width 6s",width:"80%"})},50),n.attr("video-url",""),get_new_dplayer(h,t)}}}var o=$("body"),s="thumb_dplayer_data",l=o.data(s)||{};if(!l[t+e]){var d="thumb-dplayer-playing",c="dplayer-thumb-hide";o.on("mouseenter touchstart",t,r),o.on("mouseleave",t,n);var h="thumb_dplayer_init";o.data(h)||o.on("touchstart",function(t){!$(t.target).parents("."+d).length&&_thanhdieu.dplayer.thumb_play&&n()}).data(h,!0),l[t+e]=!0,o.data(s,l)}}function new_swiper(){$(".swiper-scroll:not(.swiper-container-initialized),.new-swiper:not(.swiper-container-initialized),.swiper-tab:not(.swiper-container-initialized)").length&&($("link#swiper").length||$("head").append('<link type="text/css" id="swiper" rel="stylesheet" href="/'+_thanhdieu.uri+"/libs/css/swiper.min.css?ver="+_thanhdieu.ver+'">'))}function post_ajax(t,e,a,i,n,r,o,s,l,d,c,h){var u=$(t.parents(e)[0]);if(u.attr("ing"))return!1;var f=u.find(".post_ajax_loader"),p=u.find(i),m=t.attr("ajax-href")||t.attr("href")||t.find("a").attr("ajax-href")||t.find("a").attr("href");return a=a||e,h=h||(_thanhdieu.ajax_trigger?_thanhdieu.ajax_trigger:'<i class="fa fa-arrow-right"></i> Load more'),l=t.attr("ajax-replace")||l,d=d||_thanhdieu.ajax_nomore,n=f.length?f.last().prop("outerHTML"):'<div class="post_ajax_loader">'+(n=n||'<div class="theme-box box-body ajax-loading text-center"><h2 class="loading zts"></h2></div>')+"</div>",m&&$.ajax({type:"GET",url:m,dataType:"html",beforeSend:function(){l&&u.find(i).remove(),u.attr("ing",!0).find(".post_ajax_trigger,.no-more,.post_ajax_loader,.noajax-pag,"+r).remove(),u.find(i).length?c?p.first().before(n):p.last().after(n):u.append(n),u.find(".post_ajax_loader").fadeIn(),swiper_tab_AutoHeight(u)},success:function(e){e=$.parseHTML(e),p=u.find(i);var f=$(e).find(a),m=f.find(i),v=f.find(r),g=v.find(o).attr("href")||v.find(o).find("a").attr("href");if(v=v.length?v:'<div class="text-center mb20 padding-h10 muted-2-color no-more separator">'+d+"</div>",v=f.find(".noajax-pag").length?f.find(".noajax-pag"):v,$(e).find("[win-ajax-replace]").each(function(){var t=$(this).attr("win-ajax-replace"),e=$('[win-ajax-replace="'+t+'"]');e.length&&e.html($(this).html())}),s&&(v=void 0!==g?'<span class="post_ajax_trigger"><a class="'+s+'" href="'+g+'">'+h+"</a></span>":v),u.find(".post_ajax_trigger,.post_ajax_loader").remove(),p.length?c?(p.first().before(m),u.find(i).first().before(v)):(p.last().after(m),u.find(i).last().after(v)):c?u.append(v).append(m):u.append(m).append(v),u.append(n).removeAttr("ing").trigger("post_ajax.ed",$(e)).find(">.post_ajax_loader").hide(),!t.attr("no-scroll")){var b=l?u:$(m[0]);scrollTo(b,-40)}swiper_tab_AutoHeight(u),auto_fun()}}),!1}function tabOnRoute_hidden(){var t=$(this);if(console.log(t),!history.state){var e=t.attr("route")||t.attr("data-route"),a=t.attr("data-target");e&&history.replaceState({tab_id:a},null,e)}}function tabOnRoute(){var t=$(this);if(t.attr("onpopstate"))t.attr("onpopstate",!1);else{var e=t.attr("route")||t.attr("data-route"),a=t.attr("data-target");e&&routeGo(e,{tab_id:a})}}function routeGo(t,e,a){a=a||document.title,t&&history.pushState(e,a,t)}function z_auto(){if(_thanhdieu.do_hh=document.documentElement.clientHeight,_thanhdieu.do_hh>document.body.clientHeight){var t=_thanhdieu.do_hh-$(".footer").outerHeight()-$(".header").outerHeight()-20;$("main").animate({"min-height":t})}}function z_auto_fun(){$("textarea[autoHeight]").autoHeight(),auto_maxHeight(),$("img[data-src]:not(.lazyload,.lazyloaded,.lazyloading,.swiper-lazy)").addClass("lazyload"),$(".initiate-pay,.cashier-link,.pay-vip").length,window.location.search.indexOf("zippay"),$(".from-private,.msg-center").length,$(".dropdown-smilie,.dropdown-code,.dropdown-image").length,$("[zibupload]").length,$("[poster-share]").length,$("[machine-verification]").length,$("[data-toggle='tooltip']").tooltip({container:"body"}),$(".signsubmit-loader").length,$("[data-clipboard-text]").length,$("[data-toggle='popover']").popover({sanitize:!1}),_wid>768?($(".fixed-wrap-nav").autoAffix(20,38),$(".relative>.scroll-x.no-scrollbar").scrollX()):$(".affix-header-sm").autoAffix(0,20),_wid>900&&$(".sidebar").sidebarAffix(),new_swiper(),new_dplayer(),()=>{show_svg()};var t=_thanhdieu.highlight_kg?"pre code:not(.enlighter-origin)":"pre code.gl:not(.enlighter-origin),pre code.special:not(.enlighter-origin)";$(t).length&&tbquire(["enlighterjs"],function(){var e=!!_thanhdieu.highlight_hh;$("link#enlighterjs").length||$("head").append('<link type="text/css" rel="stylesheet" href="'+_thanhdieu.uri+"/js/enlighter/enlighterjs.min.css?ver="+_thanhdieu.ver+'" id="enlighterjs">'),$(t).enlight({linenumbers:e,indent:2,textOverflow:"scroll",rawcodeDbclick:!0,rawButton:!1,infoButton:!1,windowButton:!1,theme:_thanhdieu.highlight_zt})}),_thanhdieu.imgbox&&$(".alone-imgbox-img,a[data-imgbox],.comment-content .box-img,.theme-posts-content img,.imgbox-container").length}function scrollTo(t,e,a){var i=0,n=$("body,html");if(a=a||300,e=e||0,t){var r=t instanceof jQuery?t:$(t);i=r.length?r.offset().top+e-(n.hasClass("nav-fixed")?$(".header").innerHeight()+20:0):0}n.animate({scrollTop:i},a,"swing")}function action_ajax(t,e,a,i,n){if(t.attr("disabled"))return!1;var r=n||"Processing completed";$.ajax({type:"POST",url:_thanhdieu.uri+"/action/action.php",dataType:"json",data:e,beforeSend:function(){t.attr("disabled",!0).find("count").html('<i class="loading zts"></i>')},success:function(e){var n=e.error?"danger":"";e.action&&"remove"==e.action&&(t.removeClass("actived action-animation"),n="warning"),e.action&&"add"==e.action&&t.addClass("actived action-animation"),notyf(e.msg||r,n),t.attr("disabled",!1).find("count").html(e.cuont||"0"),"follow_user"==i&&$('[data-action="follow_user"][data-pid="'+a+'"]').each(function(){$(this).find("count").html(e.cuont)})}})}function checkLogin(){var t=_thanhdieu.qrcode_signin.url,e=_thanhdieu.qrcode_signin.state;t&&e&&$.post(t,{state:e,oauth_rurl:window.location.href,action:"check_callback"},function(t){t&&t.goto?(window.location.href=t.goto,window.location.reload):setTimeout(function(){checkLogin()},2e3)},"json")}function throttle(t,e){let a=!0;return function(...i){if(!a)return!1;a=!1,setTimeout(()=>{t.apply(this,i),a=!0},e)}}function debounce(t,e,a){var i;return function(){var n=this,r=arguments,o=function(){i=null,a||t.apply(n,r)},s=a&&!i;clearTimeout(i),i=setTimeout(o,e),s&&t.apply(n,r)}}function nav_folding(){var t=".navbar-nav",e="sub-menu",a=$(".navbar-collapse"),i=a.width();a.find(">:not("+t+")").each(function(){i-=$(this).outerWidth()}),i-=$(".navbar-header").outerWidth()+40;var n=66,r=$('<li class="menu-item"><a href="javascript:void(0);"><svg class="em12" aria-hidden="true" data-viewbox="0 0 1024 1024" viewBox="0 0 1024 1024"><use xlink:href="#icon-menu_2"></use></svg></a><ul class="'+e+'"></ul></li>');$(t+">li").each(function(){(n+=$(this).outerWidth())>i&&r.find(">."+e).append($(this))}),r.find(">."+e+" li").length&&$(t).append(r)}function notyf(t,e,a,i){$(".notyn").length||_thanhdieu.bd.append('<div class="notyn"></div>'),e=e||"success",a=(a=a||5e3)<100?1e3*a:a;var n=$('<div class="noty1"'+(i?' id="'+i+'"':"")+'><div class="notyf '+e+'">'+t+"</div></div>"),r=!i;i&&$("#"+i).length?($("#"+i).find(".notyf").removeClass().addClass("notyf "+e).html(t),n=$("#"+i),r=!0):$(".notyn").append(n),r&&setTimeout(function(){notyf_close(n)},a)}function notyf_close(t){t.addClass("notyn-out"),setTimeout(function(){t.remove()},1e3)}function placeholder_scale(t){var e=t.val(),a=t.siblings(".scale-placeholder");e.length>0?a.addClass("is-focus"):a.removeClass("is-focus")}function zib_is_url(t){return/^((http|https):\/\/)([a-z0-9-]{1,}.)?[a-z0-9-]{2,}.([a-z0-9-]{1,}.)?[a-z0-9]{2,}$/.test(t)}function is_mail(t){return/^[_a-z0-9-]+(\.[_a-z0-9-]+)*@[a-z0-9-]+(\.[a-z0-9-]+)*(\.[a-z]{2,4})$/.test(t)}function is_captcha(){return window.captcha&&!window.captcha.ticket}function Timeago(t){var e=Math.floor(Math.floor((new Date-new Date(t))/1e3)/60),a=Math.floor(e/60),i=Math.floor(a/24),n=Math.floor(i/7),r=Math.floor(i/30),o=Math.floor(i/365);return o>0?o+" năm trước":r>0?r+" th\xe1ng trước":n>0?n+" tuần trước":i>0?i+" ng\xe0y trước":a>0?a+" giờ trước":e>0?e+" ph\xfat trước":"vừa xong"}function UpdateTimes(){$(".time-ago").each(function(){$(this).text(Timeago($(this).data("timeago")))}),requestAnimationFrame(UpdateTimes)}function posts_limit_height(){if($(".limit-height").length){var t,e,a=$(".limit-height");if(!a.data("posts-limit-ison")){if(~~a.height()>=79+~~a.attr("data-maxheight")){var i='<div class="read-more"><a href="javascript:;" class="read-more-open">Xem Th\xeam<i class="fa ml10 fa-angle-down"></i></a></div>';a.append(i).data("posts-limit-ison",!0)}}}}$("body").hasClass("auto-theme")&&applyTheme(),navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i)||"Win32"!==navigator.platform||navigator.userAgentData.getHighEntropyValues(["platformVersion"]).then(t=>{let e=parseInt(t.platformVersion.split(".")[0]);console.log("Major platform version:",e),e>=13?document.cookie="win11=true;path=/":document.cookie="win11=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;"}),$(".menu-item-type-custom").removeClass("current-menu-item"),$(".menu-item-type-custom a").each(function(){$(this).attr("href")===window.location.pathname&&$(this).closest(".menu-item-type-custom").addClass("current-menu-item")}),requestAnimationFrame(UpdateTimes),jQuery.cookie=function(t,e,a){if(void 0===e){var i=null;if(document.cookie&&""!=document.cookie)for(var n=document.cookie.split(";"),r=0;r<n.length;r++){var o=jQuery.trim(n[r]);if(o.substring(0,t.length+1)==t+"="){i=decodeURIComponent(o.substring(t.length+1));break}}return i}a=a||{},null===e&&(e="",a.expires=-1);var s,l="";a.expires&&("number"==typeof a.expires||a.expires.toUTCString)&&("number"==typeof a.expires?(s=new Date).setTime(s.getTime()+24*a.expires*36e5):s=a.expires,l="; expires="+s.toUTCString());var d=a.path?"; path="+a.path:"",c=a.domain?"; domain="+a.domain:"",h=a.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(e),l,d,c,h].join("")};var lcs={get:function(t){return window.localStorage?localStorage.getItem(t):$.cookie(t)},set:function(t,e){window.localStorage?localStorage[t]=e:$.cookie(t,e)},remove:function(t){window.localStorage?localStorage.removeItem(t):$.cookie(t,"")}};!function(t,e){var a=e(t,t.document,Date);t.lazySizes=a,"object"==typeof module&&module.exports&&(module.exports=a)}("undefined"!=typeof window?window:{},function(t,e,a){"use strict";if(function(){var e,a={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in J=t.lazySizesConfig||t.lazysizesConfig||{},a)e in J||(J[e]=a[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:J,noSupport:!0};var i,n,r,o,s,l,d,c,h,u,f,p,m,v,g,b,y,x,w,_,k,C,z,j,A,E,T,H,S,O,M,W,L,q,D,B,N,I,P,R,F,U,X,G,V,Y,J,K=e.documentElement,Q=t.HTMLPictureElement,Z="addEventListener",tt="getAttribute",te=t[Z].bind(t),ta=t.setTimeout,ti=t.requestAnimationFrame||ta,tn=t.requestIdleCallback,tr=/^picture$/i,to=["load","error","lazyincluded","_lazyloaded"],ts={},tl=Array.prototype.forEach,td=function(t,e){return ts[e]||(ts[e]=RegExp("(\\s|^)"+e+"(\\s|$)")),ts[e].test(t[tt]("class")||"")&&ts[e]},tc=function(t,e){td(t,e)||t.setAttribute("class",(t[tt]("class")||"").trim()+" "+e)},th=function(t,e){var a;(a=td(t,e))&&t.setAttribute("class",(t[tt]("class")||"").replace(a," "))},tu=function(t,e,a){var i=a?Z:"removeEventListener";a&&tu(t,e),to.forEach(function(a){t[i](a,e)})},tf=function(t,a,i,n,r){var o=e.createEvent("Event");return i||(i={}),i.instance=Y,o.initEvent(a,!n,!r),o.detail=i,t.dispatchEvent(o),o},tp=function(e,a){var i;!Q&&(i=t.picturefill||J.pf)?(a&&a.src&&!e[tt]("srcset")&&e.setAttribute("srcset",a.src),i({reevaluate:!0,elements:[e]})):a&&a.src&&(e.src=a.src)},tm=function(t,e){return(getComputedStyle(t,null)||{})[e]},tv=function(t,e,a){for(a=a||t.offsetWidth;a<J.minSize&&e&&!t._lazysizesWidth;)a=e.offsetWidth,e=e.parentNode;return a},tg=(o=[],s=r=[],l=function(){var t=s;for(s=r.length?o:r,i=!0,n=!1;t.length;)t.shift()();i=!1},(d=function(t,a){i&&!a?t.apply(this,arguments):(s.push(t),n||(n=!0,(e.hidden?ta:ti)(l)))})._lsFlush=l,d),tb=function(t,e){return e?function(){tg(t)}:function(){var e=this,a=arguments;tg(function(){t.apply(e,a)})}},t$=function(t){var e,i=0,n=J.throttleDelay,r=J.ricTimeout,o=function(){e=!1,i=a.now(),t()},s=tn&&r>49?function(){tn(o,{timeout:r}),r!==J.ricTimeout&&(r=J.ricTimeout)}:tb(function(){ta(o)},!0);return function(t){var o;(t=!0===t)&&(r=33),e||(e=!0,(o=n-(a.now()-i))<0&&(o=0),t||o<9?s():ta(s,o))}},ty=function(t){var e,i,n=99,r=function(){e=null,t()},o=function(){var t=a.now()-i;t<n?ta(o,n-t):(tn||r)(r)};return function(){i=a.now(),e||(e=ta(o,n))}},tx=(_=/^img$/i,k=/^iframe$/i,C="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),z=0,j=0,A=0,E=-1,T=function(t){A--,t&&!(A<0)&&t.target||(A=0)},H=function(t){return null==w&&(w="hidden"==tm(e.body,"visibility")),w||!("hidden"==tm(t.parentNode,"visibility")&&"hidden"==tm(t,"visibility"))},S=function(t,a){var i,n=t,r=H(t);for(g-=a,x+=a,b-=a,y+=a;r&&(n=n.offsetParent)&&n!=e.body&&n!=K;)(r=(tm(n,"opacity")||1)>0)&&"visible"!=tm(n,"overflow")&&(r=y>(i=n.getBoundingClientRect()).left&&b<i.right&&x>i.top-1&&g<i.bottom+1);return r},M=t$(O=function(){var t,a,i,n,r,o,s,l,d,u,p,_,k=Y.elements;if((f=J.loadMode)&&A<8&&(t=k.length)){for(a=0,E++;a<t;a++)if(k[a]&&!k[a]._lazyRace){if(!C||Y.prematureUnveil&&Y.prematureUnveil(k[a]))I(k[a]);else if((l=k[a][tt]("data-expand"))&&(o=1*l)||(o=j),u||(u=!J.expand||J.expand<1?K.clientHeight>500&&K.clientWidth>500?500:370:J.expand,Y._defEx=u,p=u*J.expFactor,_=J.hFac,w=null,j<p&&A<1&&E>2&&f>2&&!e.hidden?(j=p,E=0):j=f>1&&E>1&&A<6?u:z),d!==o&&(m=innerWidth+o*_,v=innerHeight+o,s=-1*o,d=o),(x=(i=k[a].getBoundingClientRect()).bottom)>=s&&(g=i.top)<=v&&(y=i.right)>=s*_&&(b=i.left)<=m&&(x||y||b||g)&&(J.loadHidden||H(k[a]))&&(h&&A<3&&!l&&(f<3||E<4)||S(k[a],o))){if(I(k[a]),r=!0,A>9)break}else!r&&h&&!n&&A<4&&E<4&&f>2&&(c[0]||J.preloadAfterLoad)&&(c[0]||!l&&(x||y||b||g||"auto"!=k[a][tt](J.sizesAttr)))&&(n=c[0]||k[a])}n&&!r&&I(n)}}),L=tb(W=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(T(t),tc(e,J.loadedClass),th(e,J.loadingClass),tu(e,q),tf(e,"lazyloaded"))}),q=function(t){L({target:t.target})},D=function(t,e){try{t.contentWindow.location.replace(e)}catch(a){t.src=e}},B=function(t){var e,a=t[tt](J.srcsetAttr);(e=J.customMedia[t[tt]("data-media")||t[tt]("media")])&&t.setAttribute("media",e),a&&t.setAttribute("srcset",a)},N=tb(function(t,e,a,i,n){var r,o,s,l,d,c;(d=tf(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(a?tc(t,J.autosizesClass):t.setAttribute("sizes",i)),o=t[tt](J.srcsetAttr),r=t[tt](J.srcAttr),n&&(l=(s=t.parentNode)&&tr.test(s.nodeName||"")),c=e.firesLoad||"src"in t&&(o||r||l),d={target:t},tc(t,J.loadingClass),c&&(clearTimeout(u),u=ta(T,2500),tu(t,q,!0)),l&&tl.call(s.getElementsByTagName("source"),B),o?t.setAttribute("srcset",o):r&&!l&&(k.test(t.nodeName)?D(t,r):t.src=r),n&&(o||l)&&tp(t,{src:r})),t._lazyRace&&delete t._lazyRace,th(t,J.lazyClass),tg(function(){var e=t.complete&&t.naturalWidth>1;c&&!e||(e&&tc(t,"ls-is-cached"),W(d),t._lazyCache=!0,ta(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&A--},!0)}),I=function(t){if(!t._lazyRace){var e,a=_.test(t.nodeName),i=a&&(t[tt](J.sizesAttr)||t[tt]("sizes")),n="auto"==i;(!n&&h||!a||!t[tt]("src")&&!t.srcset||t.complete||td(t,J.errorClass)||!td(t,J.lazyClass))&&(e=tf(t,"lazyunveilread").detail,n&&tw.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,A++,N(t,e,n,i,a))}},P=ty(function(){J.loadMode=3,M()}),R=function(){3==J.loadMode&&(J.loadMode=2),P()},F=function(){if(!h){if(a.now()-p<999)return void ta(F,999);h=!0,J.loadMode=3,M(),te("scroll",R,!0)}},{_:function(){p=a.now(),Y.elements=e.getElementsByClassName(J.lazyClass),c=e.getElementsByClassName(J.lazyClass+" "+J.preloadClass),te("scroll",M,!0),te("resize",M,!0),te("pageshow",function(t){if(t.persisted){var a=e.querySelectorAll("."+J.loadingClass);a.length&&a.forEach&&ti(function(){a.forEach(function(t){t.complete&&I(t)})})}}),t.MutationObserver?new MutationObserver(M).observe(K,{childList:!0,subtree:!0,attributes:!0}):(K[Z]("DOMNodeInserted",M,!0),K[Z]("DOMAttrModified",M,!0),setInterval(M,999)),te("hashchange",M,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(t){e[Z](t,M,!0)}),/d$|^c/.test(e.readyState)?F():(te("load",F),e[Z]("DOMContentLoaded",M),ta(F,2e4)),Y.elements.length?(O(),tg._lsFlush()):M()},checkElems:M,unveil:I,_aLSL:R}),tw=(X=tb(function(t,e,a,i){var n,r,o;if(t._lazysizesWidth=i,i+="px",t.setAttribute("sizes",i),tr.test(e.nodeName||""))for(n=e.getElementsByTagName("source"),r=0,o=n.length;r<o;r++)n[r].setAttribute("sizes",i);a.detail.dataAttr||tp(t,a.detail)}),G=function(t,e,a){var i,n=t.parentNode;n&&(a=tv(t,n,a),(i=tf(t,"lazybeforesizes",{width:a,dataAttr:!!e})).defaultPrevented||(a=i.detail.width)&&a!==t._lazysizesWidth&&X(t,n,i,a))},{_:function(){U=e.getElementsByClassName(J.autosizesClass),te("resize",V)},checkElems:V=ty(function(){var t,e=U.length;if(e)for(t=0;t<e;t++)G(U[t])}),updateElem:G}),t8=function(){!t8.i&&e.getElementsByClassName&&(t8.i=!0,tw._(),tx._())};return ta(function(){J.init&&t8()}),Y={cfg:J,autoSizer:tw,loader:tx,init:t8,uP:tp,aC:tc,rC:th,hC:td,fire:tf,gW:tv,rAF:tg}}),$.fn.minitouch=function(t){var e="minitouch-isload",a=$(this);if(!a.data(e)){t=$.extend({direction:"bottom",selector:"",start_selector:"",depreciation:50,stop:!1,onStart:!1,onIng:!1,onEnd:!1,inEnd:!1},t);var i=!1,n=t.depreciation,r=0,o=0,s=0,l=0,d=0,c=0,h=0,u=!1,f=function(t,e,a,i,n){var r,o,s;i&&(e+="px",a+="px",r="translate3D("+e+","+a+" , 0)",(o={})[(s=p())+"transform"]=r,o[s+"transition"]=s+"transform 0s linear",o.cursor=n,"null"==i&&(o[s+"transform"]="",o[s+"transition"]=""),t.css(o))},p=function(){var t=document.body||document.documentElement;return""==(t=t.style).WebkitTransition?"-webkit-":""==t.MozTransition?"-moz-":""==t.OTransition?"-o-":""==t.transition?"":void 0},m=t.start_selector||t.selector;a.on("touchstart pointerdown MSPointerDown",m,function(t){r=o=s=l=d=c=h=0,r=t.originalEvent.pageX||t.originalEvent.touches[0].pageX,o=t.originalEvent.pageY||t.originalEvent.touches[0].pageY,u=!0,$(t.target).parentsUntil(m,".swiper-container,.scroll-x").length&&(u=!1)}).on("touchmove pointermove MSPointerMove",m,function(e){var n=t.start_selector?t.selector?a.find(t.selector):a.find(t.start_selector):$(this);$.isFunction(t.stop)&&(i=t.stop(a,n,r,o)),u&&!i&&(s=e.originalEvent.pageX||e.originalEvent.touches[0].pageX,l=e.originalEvent.pageY||e.originalEvent.touches[0].pageY,c=s-r,d=180*Math.atan2(h=l-o,c)/Math.PI,"right"==t.direction&&(h=0,c=d>-40&&d<40&&c>0?c:0),"left"==t.direction&&(h=0,c=(d>150||d<-150)&&0>c?c:0),"top"==t.direction&&(c=0,h=d>-130&&d<-50&&0>h?h:0),"bottom"==t.direction&&(c=0,h=d>50&&d<130&&h>0?h:0),0===c&&0===h||(e.preventDefault?e.preventDefault():e.returnValue=!1,f(n,c,h,u,"grab"),$.isFunction(t.onIng)&&t.onIng(a,n,c,h)))}).on("touchend touchcancel pointerup MSPointerUp",m,function(){var e=t.start_selector?t.selector?a.find(t.selector):a.find(t.start_selector):$(this);u&&!i&&(f(e,0,0,"null",""),$.isFunction(t.inEnd)&&t.inEnd(a,e,c,h),(Math.abs(c)>n||Math.abs(h)>n)&&$.isFunction(t.onEnd)&&t.onEnd(a,e,c,h),r=o=s=l=d=c=h=0,u=!1)}).data(e,!0)}},_thanhdieu.bd=$("body"),_thanhdieu.is_signin=!!_thanhdieu.bd.hasClass("logged-in"),_thanhdieu.bd.on("click","[data-close]",function(){var t=$(this).attr("data-close");return $(t).removeClass("show in"),!1}),_thanhdieu.bd.on("click","[data-toggle-class]",function(){var t=$(this).attr("data-toggle-class")||"show",e=$(this).attr("data-target")||this;return $(e).toggleClass(t).trigger("toggleClass"),!1}),_thanhdieu.bd.on("click",only_drop),_thanhdieu.bd.on("toggleClass",".dropup,.dropdown",only_drop),_thanhdieu.bd.on("click",".alert-dismissible > .close",function(){$(this).parent().slideUp()}),_thanhdieu.bd.on("click","[data-onclick]",function(){var t=$(this).attr("data-onclick");return $(t).click()}),$.fn.OnlyOn=function(t,e,a,i){var n=/\S+/g,r=!1;t=t.match(n)[0];var o=$._data(this[0],"events");o&&void 0!==o.type&&$.each(o[t],function(t,i){if(i.selector==e&&i.data==a)return r=!0,!1}),r?console.log("Event Repeat Binding {type："+t+",selector:"+e+",data:"+a+"}"):this.on(t,e,a,i)},_thanhdieu.dplayer={tbquire:["dplayer"],obj:{}},new_dplayer(),_thanhdieu.bd.on("click",".file-download-btn",function(){var t=$(this),e=t.attr("data-download-file"),a=t.attr("download-nonce");if(e){var i=_thanhdieu.ajax_url+"?action=download_file&file="+e+"&nonce="+a;t.attr("target","_blank").removeAttr("data-download-file").attr("href",i)}}),_thanhdieu.bd.on("click",".switch-video",function(){var t=$(this),e=$("#"+t.attr("dplayer-id")).data("dplayer"),a=t.attr("video-url"),i=t.attr("video-pic");if(a&&e&&!t.hasClass("active")){t.addClass("active").siblings().removeClass("active");var n=a.toLowerCase();-1!=n.indexOf(".m3u")&&_thanhdieu.dplayer.tbquire.push("hls"),-1!=n.indexOf(".mpd")&&_thanhdieu.dplayer.tbquire.push("dash"),-1!=n.indexOf(".flv")&&_thanhdieu.dplayer.tbquire.push("flv"),tbquire(_thanhdieu.dplayer.tbquire,function(){try{var t={url:a,type:"auto"};i&&(t.pic=i),e.switchVideo(t),e.play()}catch(n){console.log(n)}})}}),_thanhdieu.bd.on("click",".post-tab-toggle",function(){var t=$(this),e=t.attr("tab-id");if(!t.parent().hasClass("active")){var a=t.parent().addClass("active").siblings().removeClass("active").parent().next().find('[tab-id="'+e+'"]');a.siblings().removeClass("in"),setTimeout(function(){a.addClass("active").siblings().removeClass("active")},150),setTimeout(function(){a.addClass("in")},160)}}),_thanhdieu.swiper=[],_thanhdieu.swiper.tab={},_thanhdieu.swiper.scroll={},_thanhdieu.swiper.new={},window.swiper_tab_AutoHeight=debounce(function(t){var e=$(t.parents("[swiper-tab-index]")[0]);if(e.length){var a=e.attr("swiper-tab-index");_thanhdieu.swiper.tab[a].updateAutoHeight(500)}},100),$.fn.scrollX=function(){return this.each(function(){function t(t){var e=i();n.animate({scrollLeft:"prev"===t?e[0]:e[1]},300,"linear",a)}function e(){n.after(d).after(c),d.on("click",function(){t("prev")}),c.on("click",t),n.parent().hover(a,function(){d.hide(),c.hide()})}function a(){var t=i();t[3]?d.show():d.hide(),t[3]<t[2]?c.show():c.hide()}function i(){var t=n.innerWidth(),e=n.scrollLeft(),a=~~(n.prop("scrollWidth")-t),i=~~(e-t),r=~~(e+t);return[i=i>0?i:0,r=r>a?a:r,a,e]}var n=$(this),r="is-on";if(!n.data(r)){n.data(r,!0);var o="scroll-x-",s=o+"prev",l=o+"next",d=$('<div class="'+s+'" style="display: none;"></div>'),c=$('<div class="'+l+'" style="display: none;"></div>');e()}})},$.fn.Tabcenter=function(){return this.each(function(){var t=$(this),e=t.find(".active");if(e.length){var a=t.innerWidth(),i=e.innerWidth(),n=t.scrollLeft(),r=e.position().left,o=~~(t.prop("scrollWidth")-a),s=~~(n+r-a/2+i/2);(s=(s=s>0?s:0)>o?o:s)!=n&&t.animate({scrollLeft:s},300)}})},_thanhdieu.bd.on("shown.bs.tab","a[data-ajax]",function(){$($(this).parents(".tab-nav-theme,.tab-nav-but,.index-tab>ul")[0]).Tabcenter()}),$(".tab-nav-theme,.tab-nav-but,.index-tab>ul").Tabcenter(),_thanhdieu.bd.on("click","[remote-box]",function(){var t=$(this),e=t.attr("remote-box");e&&$.get(e,null,function(e){t.html(e).removeAttr("remote-box"),auto_fun()})}),_thanhdieu.bd.on("show.bs.tab","a[data-ajax]",function(){var t=$(this),e=t.data("target")||t.attr("href"),a=e+" .post_ajax_trigger .ajax-next",i=$(a).attr("ajax-replace",!0);if(i.length)i.click();else{var n=t.attr("data-ajax");if(n){var r='<span class="post_ajax_trigger hide"><a ajax-href="'+n+'" class="ajax_load ajax-next ajax-open" ajax-replace="true"></a></span>';$(e).append(r),$(a).click()}}t.attr("only-one")&&t.removeAttr("data-ajax")}),_thanhdieu.bd.on("click","[ajax-tab],[ajax-target]",function(){var t=$(this),e=t.attr("ajax-replace")?' ajax-replace="true"':"",a=t.attr("ajax-tab")||t.attr("ajax-target"),i='<span class="post_ajax_trigger hide"><a ajax-href="'+t.attr("data-ajax")+'" class="ajax_load ajax-next ajax-open"'+e+"></a></span>";$(a).append(i),$(a+" .post_ajax_trigger .ajax-next").click(),$('a[href="'+a+'"]').click()}),_thanhdieu.bd.on("click",".ajax-next",function(t){t.preventDefault();var e=$(this),a='<div class="text-center muted-2-color mt20"><i class="loading mr10"></i>Đang tải...</div>';e.attr("ajax-replace")&&(a='<div class="posts-item flex"><div class="post-graphic"><div class="radius8 item-thumbnail placeholder"></div> </div><div class="item-body flex xx flex1 jsb"> <p class="placeholder t1"></p> <h4 class="item-excerpt placeholder k1"></h4><p class="placeholder k2"></p><i><i class="placeholder s1"></i><i class="placeholder s1 ml10"></i></i></div></div>',a+=a,a+=a),a='<div class="mb20">'+a+"</div>";var i=".ajaxpager",n=".ajax-item",r=e.parents(i+":eq(0)").find(n+":first").attr("class");return r&&r.indexOf("posts-item")>-1&&(r.indexOf("card")>-1?a=(a='<div class="'+r.replace("ajax-item","")+'"><div class="item-thumbnail"><div class="radius8 item-thumbnail placeholder"></div> </div><div class="item-body "> <h2 class="item-excerpt placeholder t1 item-heading"></h2> <p class="mt10 placeholder k2"></p><i class="flex jsb"><i class="placeholder s1"></i><i class="placeholder s1 ml10"></i></i></div></div>').repeat(_wid>766?_wid>992&&!$(".sidebar").length?8:6:4):r.indexOf("list")>-1&&(a=(a='<div class="posts-item list flex"><div class="post-graphic"><div class="radius8 item-thumbnail placeholder"></div> </div><div class="item-body flex xx flex1 jsb"> <p class="placeholder t1"></p> <h4 class="item-excerpt placeholder k1"></h4><p class="placeholder k2"></p><i><i class="placeholder s1"></i><i class="placeholder s1 ml10"></i></i></div></div>').repeat(_wid>766?4:3))),post_ajax(e,i,i,n,a,".ajax-pag")});var _wid=$(window).width(),_hei=$(window).height();if(_wid<768&&$(".drawer-sm").length){_thanhdieu.bd.on("click","[data-drawer]",function(){var t=$(this),e=t.attr("drawer-title")||"",a=t.attr("drawer-selector")||".drawer-sm",i=t.attr("data-drawer"),n=t.attr("route"),r=t.attr("route-back");$(a).Drawer(i,e,n,r)});var this_url=(window.parent.location.origin+window.parent.location.pathname).replace(/(\/*$)/g,"");_thanhdieu.url_request=window.parent.location.search,setTimeout(function(){$('[data-drawer][route="'+this_url+'"]').click()},20)}else _thanhdieu.bd.on("shown.bs.tab","[data-drawer][route]",tabOnRoute),_thanhdieu.bd.on("hide.bs.tab","[data-drawer][route]",tabOnRoute_hidden);if(_thanhdieu.bd.on("shown.bs.tab","[data-route]",tabOnRoute),_thanhdieu.bd.on("hide.bs.tab","[data-route]",tabOnRoute_hidden),window.onpopstate=function(t){var e=t.state&&$('[data-toggle="tab"][data-target="'+t.state.tab_id+'"]');e&&e.length&&e.attr("onpopstate",!0).click()},$.fn.Drawer=function(t,e,a,i){function n(t){history.replaceState(null,document.title,t)}e=e||"";var r=$(this);if(r.length){t="show"==t||"hide"==t?t:r.hasClass("show")?"hide":"show";var o=$("body");switch(r.attr("on-start")||r.attr("on-start",!0).minitouch({direction:"right",onEnd:function(){r.Drawer("hide")}}),t){case"show":var s=$('<div class="drawer-header flex ac"><div class="drawer-close"><i class="fa fa-angle-left em12"></i></div><div class="drawer-title">'+e+"</div></div>").on("click",".drawer-close",function(){r.Drawer("hide")});return o.append(s),setTimeout(function(){o.addClass("drawer-show")},10),i&&r.data("route_back",i),a&&n(a),r.addClass("show");case"hide":return o.removeClass("drawer-show"),setTimeout(function(){$(".drawer-header").remove()},400),n(r.data("route_back")),r.removeClass("show")}}},$(".theme-block-carousel").length){$("link#swiper").length||$("head").append('<link type="text/css" id="swiper" rel="stylesheet" href="'+_thanhdieu.uri+"/css/swiper.min.css?ver="+_thanhdieu.ver+'">');var _sc=$(".theme-block-carousel"),Sw=[];tbquire(["swiper"],function(){_sc.each(function(t){var e=$(this),a="swiper-post-"+t;e.find(".theme-block-gallery>.blocks-gallery-grid").length&&e.find(".theme-block-gallery").html(e.find(".theme-block-gallery>.blocks-gallery-grid").html()),e.find(".theme-block-gallery").removeClass().addClass("swiper-wrapper").find(".blocks-gallery-item,>.theme-block-image").addClass("swiper-slide"),e.find(".carousel-control.left").replaceWith('<div class="swiper-button-next"></div>'),e.find(".carousel-control.right").replaceWith('<div class="swiper-button-prev"></div><div class="swiper-pagination"></div>');var i=e.find(".carousel"),n=i.attr("proportion")||.6,r=i.attr("style");i.addClass(a+" new-swiper scale-height").attr("style","--scale-height:"+100*n+"%;"),e.attr("style",r);var o=~~i.attr("data-interval")||6e3,s=i.attr("data-jyloop")||!1,l=i.attr("data-effect")||"slide",d=100*~~((i.width()+1200)/250);Sw["swiper_wz_"+t]=new Swiper(".theme-block-carousel ."+a,{spaceBetween:10,speed:d,loop:s,effect:l,autoplay:{delay:o,disableOnInteraction:!1},pagination:{el:"."+a+" .swiper-pagination",clickable:!0},navigation:{nextEl:"."+a+" .swiper-button-next",prevEl:"."+a+" .swiper-button-prev"}})})})}if(_thanhdieu.bd.on("show.bs.modal loaded.bs.modal",".modal:not(.flex)",function(){var t=$(this),e=t.find(".modal-dialog");t.css("display","block"),e.css({"margin-top":Math.max(0,(_hei-e.height())/2)})}),_thanhdieu.bd.on("show.bs.modal loaded.bs.modal",".modal",function(){auto_fun()}),_thanhdieu.bd.on("click",".oauth-untying",function(){if(1==confirm("Are you sure you want to unbind the account?")){var t=$(this),e={action:"user_oauth_untying",user_id:t.attr("user-id"),type:t.attr("untying-type")};return zib_ajax(t,e),!1}}),_thanhdieu.bd.on("click",".medal-add-link",function(){if(1==confirm("Are you sure you want to award this badge?"))return zib_ajax($(this)),!1}),_thanhdieu.bd.on("click",".medal-remove-link",function(){if(window.confirm("Are you sure you want to reclaim this badge?"))return zib_ajax($(this)),!1}),_thanhdieu.bd.on("click","[tab-id]",function(t){var e=$(this).attr("tab-id");if(e){var a=$('a[data-target="#'+e+'"]');a.length||(a=$('a[href="#'+e+'"]')),a.length&&(t.preventDefault(),a.tab("show"))}}),_thanhdieu.bd.on("click",'[data-toggle="RefreshModal"]',function(){var t=$(this),e=t.attr("data-class")||"",a=t.attr("data-remote"),i=t.attr("data-height")||300,n=t.attr("mobile-bottom")&&_wid<769?" bottom":"",r="modal flex jc fade"+n,o="refresh_modal",s=t.attr("new"),l="#"+(o+=s?parseInt((Math.random()+1)*1e4):""),d='<div class="'+r+'" id="'+o+'" tabindex="-1" role="dialog" aria-hidden="false">    <div class="'+(e+=" modal-dialog")+'" role="document">    <div class="modal-content">    </div>    </div>    </div>',c='<div class="modal-body" style="display:none;"></div><div class="flex jc loading-mask absolute main-bg radius8"><div class="em2x opacity5"><i class="loading"></i></div></div>',h=$(l);h.length?(h.hasClass("in")&&(r+=" in"),h.removeClass().addClass(r),h.find(".modal-dialog").removeClass().addClass(e),h.find(".loading-mask").fadeIn(200),h.find(".modal-content").css({overflow:"hidden"}).animate({height:i})):(_thanhdieu.bd.append(d),h=$(l),s&&h.on("hidden.bs.modal",function(){$(this).remove()}),h.find(".modal-content").html(c).css({height:i,overflow:"hidden"}),_wid<769&&h.minitouch({direction:"bottom",selector:".modal-dialog",start_selector:".modal-colorful-header,.touch-close,.touch",onEnd:function(){h.modal("hide")},stop:function(){return!h.hasClass("bottom")}})),h.find(".touch-close").remove();var u='<div class="touch-close"></div>';return n&&!t.attr("no-touch")&&h.find(".modal-dialog").append(u),h.modal("show"),$.get(a,null,function(t){h.find(".modal-body").html(t).slideDown(200,function(){h.trigger("loaded.bs.modal").find(".loading-mask").fadeOut(200);var t=$(this).outerHeight();h.find(".modal-content").animate({height:t},200,"swing",function(){h.find(".modal-content").css({height:"",overflow:"",transition:""})})})}),!1}),window.auto_maxHeight=debounce(z_auto,100),window.auto_fun=debounce(z_auto_fun,100),$(window).scroll(function(){var t=document.documentElement.scrollTop+document.body.scrollTop,e=$(".ontop");t>100?_thanhdieu.bd.addClass("body-scroll"):_thanhdieu.bd.removeClass("body-scroll"),t>400?e.addClass("show"):e.removeClass("show")}),$(window).scroll(debounce(function(){$("[data-toggle='tooltip']").tooltip("hide")},500,!0)),$(".scrolling-hide").length&&$(window).scroll(debounce(function(){_thanhdieu.bd.addClass("scroll-ing")},500,!0)).scroll(debounce(function(){_thanhdieu.bd.removeClass("scroll-ing")},500)),_thanhdieu.bd.on("click",".toggle-radius,.float-right a,.but-ripple,.but,.item-thumbnail,.menu-item >a,.yiyan-box,.relates-thumb li a",function(t){var e=$(this);if(!e.hasClass("nowave")){e.css({overflow:"hidden",position:"relative"});var a,i=~~e.outerWidth(),n=~~e.outerHeight();a=i<n?n:i;var r=e.css("color")||"rgba(200, 200, 200)",o=$("<div></div>").css({display:"block",background:r,"border-radius":"50%",position:" absolute","-webkit-transform":"scale(0)",transform:"scale(0)",opacity:".3","-webkit-transition":"all 1.5s cubic-bezier(0.22, 0.61, 0.36, 1)",transition:"all 1.5s cubic-bezier(0.22, 0.61, 0.36, 1)","z-index":"1",overflow:"hidden","pointer-events":"none"});e.append(o),o.css({width:2*a+"px",height:2*a+"px",top:t.pageY-e.offset().top-a+"px",left:t.pageX-e.offset().left-a+"px",transform:"scale(1)","-webkit-transform":"scale(1)",opacity:0}),setTimeout(function(){o.remove()},2e3)}}),$.fn.sidebarAffix=function(){function t(){var t=e.parent(),a=document.body.clientHeight-t.outerHeight(!0)-t.offset().top;return{top:e.outerHeight(!0)+e.offset().top-i,bottom:a+2}}var e=$(this),a=e.find("[data-affix]");if(!a.length)return e;var i=$("body").hasClass("nav-fixed")?$(".header").outerHeight(!0):20,n=a.innerWidth(),r=e.children(".sidebar-affix");if(e.children(".sidebar-affix").length)return r.data("bs.affix").options.offset=t(),$(window).trigger("scroll"),e;var o=t(),s=a.clone();return r=$('<div class="sidebar-affix affix-top" style="width:'+n+'px;"></div>').append(s),e.prepend(r),r.affix({offset:o}).on("affix.bs.affix",function(){r.css({top:i})}).find("[lazyload-action]:not(.lazyload)").addClass("lazyload"),r.hasClass("affix")&&r.css({top:i}),$(window).trigger("scroll"),e.data("is.on")},$.fn.autoAffix=function(t,e,a){function i(){return(o.hasClass("nav-fixed")?$(".header").outerHeight():0)+t}function n(){return{top:r.parent().offset().top-i()+s,bottom:document.body.clientHeight-d.outerHeight()-d.offset().top+e}}t=~~t,e=~~e;var r=$(this);if(r.length){var o=$("body"),s=~~r.attr("offset-top"),l=r.attr("data-wrap"),d=l?$(l):r.parent();return r.data("bs.affix")?(r.data("bs.affix").options.offset=n(),r.trigger("scroll.bs.affix.data-api")):(d.css("min-height",r.outerHeight()+e),r.affix({offset:n()}).on("affix-top.bs.affix",function(){r.css({top:"",width:""}),a&&r.next().css({"margin-top":""})}).on("affix.bs.affix",function(){var t={top:i()};a&&(t.width=r.width(),r.next().css({"margin-top":r.outerHeight()})),r.css(t)}),r.hasClass("affix")&&r.css({top:i()}),r.trigger("scroll.bs.affix.data-api"))}},$(".toggle-theme").click(function(){var t=!!$("body").hasClass("dark-theme"),e="enlighter-t-"+_thanhdieu.highlight_white_zt,a="enlighter-t-"+_thanhdieu.highlight_dark_zt;$("img[switch-src]").each(function(){var t=$(this),e=t.attr("data-src")||t.attr("src"),a=t.attr("switch-src");t.attr("src",a).attr("switch-src",e).attr("data-src","")});var i=$(".enlighter-default"),n=$("body"),r=$("#post_content_ifr").contents().find("body");t?(r.removeClass("dark-theme"),i.addClass(e).removeClass(a),n.removeClass("dark-theme"),SetCookie("theme_mode","white-theme",60)):(r.addClass("dark-theme"),i.addClass(a).removeClass(e),n.addClass("dark-theme"),SetCookie("theme_mode","dark-theme",60))}),_thanhdieu.bd.on("hide.bs.modal",".modal",function(){_thanhdieu.check_login=!1,_thanhdieu.check_pay=!1,_thanhdieu.qrcode_signin={url:!1,state:!1}}),$.fn.autoHeight=function(){function t(t){var e=~~$(t).attr("maxHeight");t.style.height="auto",e>t.scrollHeight?(t.style.height=t.scrollHeight+"px",t.style.overflow="hidden"):(t.style.height=e+"px",t.style.overflow="auto")}return this.each(function(){var e=$(this);t(this),e.data("is-on")||e.data("is-on",!0).on("input focus",function(){t(this)})})},_thanhdieu.bd.on("click",".rewards",function(){$("#rewards-popover").modal("show")}),_thanhdieu.bd.hasClass("author")&&tbquire(["author"]),_thanhdieu.bd.hasClass("page-template-postsnavs")&&_thanhdieu.bd.hasClass("logged-admin")&&tbquire(["page-navs"]),$("#modal_admin_set").length&&tbquire(["page-edit"]),$("#commentform,#postcomments").length,_thanhdieu.bd.hasClass("page-template")&&tbquire(["page-template"]),window.WeChatShareDate&&tbquire(["weixin-share"]),_thanhdieu.bd.hasClass("search")){var val=$(".search-key").text();try{var reg=eval("/"+val+"/i");$(".item-heading a,.item-excerpt,.forum-title a,.excerpt,.display-name").each(function(){$(this).html($(this).html().replace(reg,function(t){return'<b class="focus-color">'+t+"</b>"}))})}catch(t){}}$.fn.dependency=function(){function t(t){switch(t){case!0:case"true":case 1:case"1":t=!0;break;case null:case!1:case"false":case 0:case"0":t=!1}return t}function e(t){return Number(t)}function a(a,i,n){if("=="==a)return t(i)==t(n);if("!="==a)return t(i)!=t(n);if(">="==a)return e(n)>=e(i);if("<="==a)return e(n)<=e(i);if(">"==a)return e(n)>e(i);if("<"==a)return e(n)<e(i);if("any"==a){if($.isArray(n)){for(let r=n.length-1;r>=0;r--)if(-1!==$.inArray(n[r],i.split(",")))return!0}else if(-1!==$.inArray(n,i.split(",")))return!0}else if("not-any"==a){if($.isArray(n)){for(let o=n.length-1;o>=0;o--)if(-1==$.inArray(n[o],i.split(",")))return!0}else if(-1==$.inArray(n,i.split(",")))return!0}return!1}return this.each(function(){var t=$(this),e=t.find("[data-controller]");if(e.length){var i="is-on";e.each(function(){var e=$(this);if(!e.attr(i)){var n=e.attr(i,!0).data("controller").split("|"),r=e.data("condition").split("|"),o=e.data("value").toString().split("|");$.each(n,function(i,n){var s=o[i]||"",l=r[i]||r[0]||"==";t.on("change","[name='"+n+"']",function(){var t=$(this),i=a(l,s,"checkbox"==t.attr("type")?t.is(":checked"):t.val());e.trigger("controller.change",i),i?e.show():e.hide()})})}})}})},_thanhdieu.bd.on("loaded.bs.modal",".modal",function(){$(".modal .dependency-box").dependency()}),$(".dependency-box").dependency(),_thanhdieu.bd.on("click","[data-for]",function(){var t,e=$(this),a=e.attr("data-for"),i=e.parents("form"),n=e.attr("data-value"),r=e.attr("data-multiple");if(r){t="";var o="";if(!e.hasClass("active")&&e.siblings(".active").length>=r)return notyf("Maximum number of options "+r+" indivual","danger");e.toggleClass("active"),e.parent().find(".active").each(function(){var e=$(this);t+=e.html(),o+='<input type="hidden" name="'+a+'[]" value="'+e.attr("data-value")+'">'}),i.find("input[name='"+a+"[]']").remove(),i.append(o)}else{var s=$(e.parents("[for-group]")[0]);s.length?s.find('[data-for="'+a+'"]').removeClass("active"):e.siblings().removeClass("active"),e.addClass("active"),t=e.html(),i.find("input[name='"+a+"']").val(n).trigger("change")}i.find("span[name='"+a+"']").html(t),i.find("input[name=s]").focus()}),_thanhdieu.bd.on("input","input[limit-min]",debounce(function(){var t,e=$(this),a=Number(e.attr("limit-min")),i=Number(e.attr("limit-max")),n=Number(e.val()),r="limit-warning";e.next("."+r).length||e.after('<div class="limit-warning" style="display: none;"></div>');var o=e.next("."+r);e.val().length<1?o.html("").hide():n>i?(t=e.attr("warning-max")||"Maximum input 1$",o.html(t.replace("1$",i)).fadeIn(150)):n<a?(t=e.attr("warning-min")||"Minimum input: 1$",o.html(t.replace("1$",a)).fadeIn(150)):o.fadeOut(150)},500)),$.fn.AutoSearch=function(){return this.each(function(){function t(){var t={},i=e.serializeObject();$.each(i,function(e,a){t[e]=a}),e.find("input[name]").each(function(){var e=$(this),a=e.val()||"";t[e.attr("name")]=a}),e.addClass(o),c.html(m),h.html(p),d.css({height:d.outerHeight(),overflow:"hidden"}),$.post(a,t,function(t){t.data&&d.html('<div class="'+l+'">'+t.data+"</div>").animate({height:d.children("."+l).outerHeight()},200,"swing",function(){d.css({height:"",overflow:"",transition:""})}),e.removeClass(o),c.html(t.remind||""),h.html(u)},"json")}var e=$(this),a=e.attr("ajax-url")||_thanhdieu.ajax_url,i=2,n="search-",r="."+n,o=n+"loading",s=r+"input",l=n+"centent",d=e.find(r+"container"),c=e.find(r+"remind"),h=e.find(r+"icon"),u=h.html(),f="Please enter at least "+i+" Characters",p='<i class="loading em12"></i>',m=p+'<span class="ml6">Searching, please wait...</span>',v="is-on";e.data(v)||e.data(v,!0).find(s).on("input",debounce(function(){$(this).val().length>=i?t():c.html(f)},200)).on("keydown",function(t){13==t.keyCode&&t.preventDefault()})})},_thanhdieu.bd.on("loaded.bs.modal",".modal",function(){$(".modal .auto-search").AutoSearch()}),$(".auto-search").AutoSearch(),_thanhdieu.bd.on("click",".main-search [data-for]",function(){var t=$(".main-search").find(".scale-placeholder");t.length&&t.text(t.attr("default"))}),_thanhdieu.bd.on("submit",".main-search form",function(){var t=$(this),e=t.serializeObject();$.each(e,function(e,a){a&&"null"!=a||"s"==e||t.find('input[name="'+e+'"]').remove()})}),_thanhdieu.bd.on("click",".main-search-btn",function(){var t=$(this),e=$(".main-search form");if($(".main-search").addClass("show"),e.length){var a="search-",i={type:t.attr(a+"type"),user:t.attr(a+"user"),trem:t.attr(a+"trem")};$.each(i,function(a,i){if(i){var n=e.find('input[name="'+a+'"]').val(i);if(!e.find('[data-for="'+a+'"][data-value="'+i+'"]').click().length&&"trem"==a){var r=t.attr("trem-name"),o=e.find(".cat-drop");r&&o.length&&(o.append('<li data-for="trem" data-value="'+i+'"><a href="javascript:;">'+r+"</a></li>"),o.find('[data-value="'+i+'"]').click())}n.length||e.append('<input type="hidden" name="'+a+'" value="'+i+'">')}});var n=t.attr(a+"placeholder")||e.find(".scale-placeholder").attr("default");e.find(".scale-placeholder").text(n),setTimeout(function(){e.find('[name="q"]').focus()},100)}}),$(".navbar-top li.menu-item-has-children>a").each(function(){$(this).append('<i class="fa fa-angle-down ml6"></i>')}),_wid>996&&$(".header").height()>67&&nav_folding(),_thanhdieu.bd.on("click",".noty1",function(){notyf_close($(this))}),_thanhdieu.passw=1,_thanhdieu.bd.on("click",".passw",function(){var t=$(this);1==_thanhdieu.passw?(t.find(".fa").addClass("fa-eye-slash"),t.siblings("input").attr("type","text"),_thanhdieu.passw=2):(t.find(".fa").removeClass("fa-eye-slash"),t.siblings("input").attr("type","password"),_thanhdieu.passw=1)}),_thanhdieu.bd.on("input change focus",".line-form-input",debounce(function(){placeholder_scale($(this))},100)),$.fn.serializeObject=function(){var t={},e=this.serializeArray();return $.each(e,function(){void 0!==t[this.name]?(t[this.name].push||(t[this.name]=[t[this.name]]),t[this.name].push(this.value||"")):t[this.name]=this.value||""}),t},_thanhdieu.bd.on("click",".trash-history-search",function(){1==confirm("Bạn c\xf3 chắc chắn muốn x\xf3a tất cả lịch sử t\xecm kiếm kh\xf4ng?")&&($(".history-search").slideUp().delay(1e3,function(){$(this).remove()}),$.cookie("history_search",""))}),_thanhdieu.bd.on("click",".initiate-checkin",function(){zib_ajax($(this),0,function(t){t.details_link&&$(".initiate-checkin").each(function(){var e=$(t.details_link),a=$(this),i=a.attr("class"),n=a.attr("ed-text");e.addClass(i).removeClass("initiate-checkin").html(n),a.prop("outerHTML",e.prop("outerHTML"))})},"Đang kiểm tra, vui l\xf2ng đợi...")}),_thanhdieu.bd.on("click",".single-pay-tabbar",function(){scrollTo("#posts-pay",-50),$("#posts-pay .cashier-link").click()}),_thanhdieu.bd.on("submit","[ajax-submit]",function(){var t=$(this),e=t.attr("ajax-submit")||'.theme-ajax-submit,[zibajax="submit"]';return t.find(e).click(),!1}),_thanhdieu.bd.on("click",'.theme-ajax-submit,[zibajax="submit"]',function(){var t=$(this).attr("data-confirm");return!(t&&!confirm(t))&&(zib_ajax($(this)),!1)}),_thanhdieu.bd.on("zib_ajax.success","[next-tab]",function(t,e){var a=$(this).attr("next-tab");a&&e&&!e.error&&$('a[href="#'+a+'"]').tab("show")}),$(".erphp-login-must").each(function(){$(this).addClass("signin-loader")}),$(window).resize(function(){_wid=$(window).width(),auto_fun()}),$(".collapse").on("shown.bs.collapse",function(){auto_fun()}),_thanhdieu.bd.on("click",".read-more-open",function(){$(this).parents(".limit-height").css({height:"","max-height":""}).find(".read-more").remove()}),auto_fun(),thumb_dplayer(_wid>640?".posts-item .item-thumbnail,.forum-lists-cover":".posts-item,.forum-posts",".video-thumb-box[video-url]"),$("[load-click]").attr("no-scroll",!0).click(),$(document).ready(function(){function t(t){$.ajax({url:a}).done(function(a){var i=a.replace(/\r\n|\r/g,"/&/").trim().split("/&/");if(i){var n=t.attr("type");e=n?"en"===n?i[0]:i[1]:'<div class="vi">'+i[0]+'</div><div class="en">'+i[1]+"</div>",t.html(e)}})}if(setTimeout(function(){$(".line-form-input").each(function(){placeholder_scale($(this))}),_thanhdieu.views&&$.get(_thanhdieu.ajax_url,{action:"views_record",id:_thanhdieu.views}),posts_limit_height()},1e3),posts_limit_height(),auto_maxHeight(),$(".feature").length){var e=0,a=0;$(".feature").each(function(){var t=$(this);(e=t.find(".feature-icon").innerHeight()+t.find(".feature-title").innerHeight()+t.find(".feature-note").innerHeight())>a&&(a=e)}),$(".feature").css("height",a)}$(".qrcode").length,document.addEventListener("lazybeforeunveil",function(t){var e=$(t.target),a=e.attr("lazyload-action");setTimeout(function(){if("ias"===a&&(e.attr("remote-box")?e.click():(e.is(".ajax-next,.ias-btn")?e:e.find(".ajax-next,.ias-btn")).attr("no-scroll",!0).click()),"animated"==a){var t=e.attr("data-animated");t&&e.addClass("animated "+t).css("visibility","unset")}},200);var i=e.attr("data-bg");i&&e.css("background-image","url("+i+")")}),document.addEventListener("lazyloaded",function(t){var e=$(t.target);swiper_tab_AutoHeight(e)}),_thanhdieu.qj_loading&&$(".qj_loading").fadeOut(500).delay(1e3,function(){$(this).remove(),$("#qj_dh_css").remove()}),$(".yiyan").each(function(){t($(this))}),setInterval(function(){$(".yiyan").each(function(){t($(this))})},3e4),$(".yiyan").on("click",function(){t($(this))}),$("[data-nav] h1,[data-nav] h2,[data-nav] h3,[data-nav] h4").length>2&&tbquire(["section-navs"]),$("[mini-touch]").each(function(){var t=$(this),e=t.attr("touch-direction");t.minitouch({direction:e,onEnd:function(e){"mobile-nav"===t.attr("mini-touch")?$("body").removeClass("mobile-navbar-show"):e.removeClass("show")}})}),$("[data-countdown]").each(function(){var t=$(this);countdown(t)})});